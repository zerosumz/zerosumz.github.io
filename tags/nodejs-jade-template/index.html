<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="/atom.xml" title="(loop (print (eval (read))))" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>nodejs, jade, template - (loop (print (eval (read))))</title><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Handlee" type="text/css"><style type="text/css">.fb-share-button , .twitter-share-button {
  vertical-align: text-bottom;
  margin-left : 5px;
}
</style><link rel="stylesheet" href="/css/main.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
    processEscapes: true
  }
});</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  }
});</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for(i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/javascript">var switchTo5x=true;</script><script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script><script type="text/javascript">stLight.options({publisher: "3df02cad-979e-4347-be4c-94fe98b99af9", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script></head><body><div id="fb-root"></div><script type="text/javascript">(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/ko_KR/sdk.js#xfbml=1&appId=783844121725729&version=v2.0";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script><script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script><header class="head"><h1 class="head-title u-fl"><a href="/">(loop (print (eval (read))))</a></h1><h4 class="sub-title u-fl">;;닭집을 차리기 위한 여정</h4><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/" class="head-nav__link">Home</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time datetime="2014-09-25T09:38:03.000Z" class="post__time">9월 25, 2014</time><h1 class="post__title"> <a href="/2014/09/25/cis1gcn970007fq4jo7b5nxzg/">Jade?</a><div style="float:right;"><div data-href="/2014/09/25/cis1gcn970007fq4jo7b5nxzg/" data-layout="button_count" class="fb-share-button"></div><a href="https://twitter.com/share" data-url="http://zerosumz.github.io/2014/09/25/cis1gcn970007fq4jo7b5nxzg/" data-via="k_racketeer" class="twitter-share-button"></a></div></h1></header><div class="post__main echo"><h3 id="hexo테마"><a href="#hexo테마" class="headerlink" title="hexo테마"></a>hexo테마</h3><p>hexo로 블로그를 만들면서 테마때문에 꽤 골치를썩음.<br>일단 요 테마 strict  는 <a href="http://jade-lang.com" target="_blank" rel="external">jade</a> 라는 nodejs템플릿 라이브러리를 쓰고있음<br>그런데 보면 jade는 일정 형식을 가진 소스코드 -&gt;  컴파일 -&gt; html 의 구조를 갖는 템플릿 엔진이었다.</p>
<p>몇번 굴려보고 느낀점은..<br>야 이럴거면 그냥 clojure 하지;..</p>
<h3 id="어쩌다보니-그냥-clojure-얘기"><a href="#어쩌다보니-그냥-clojure-얘기" class="headerlink" title="어쩌다보니 그냥 clojure 얘기"></a>어쩌다보니 그냥 clojure 얘기</h3><p>클로져 (혹은 다른 lisp, scheme 류) 에서는 이미 저런 시도가 흔하다.</p>
<figure class="highlight clojure"><figcaption><span>hiccup.core.html</span><a href="https://github.com/weavejester/hiccup" target="_blank" rel="external">link</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">;; user=&gt;</span></div><div class="line"></div><div class="line">(<span class="name">html</span> [<span class="symbol">:div#foo.bar.baz</span> <span class="string">"bang"</span>])</div><div class="line"></div><div class="line"><span class="comment">;=&gt; "&lt;div id=\"foo\" class=\"bar baz\"&gt;bang&lt;/div&gt;"</span></div><div class="line"></div><div class="line"><span class="comment">;; user=&gt;</span></div><div class="line"> (<span class="name">html</span> [<span class="symbol">:ul</span></div><div class="line">        (<span class="name"><span class="builtin-name">for</span></span> [x (<span class="name"><span class="builtin-name">range</span></span> <span class="number">1</span> <span class="number">4</span>)]</div><div class="line">		       [<span class="symbol">:li</span> x])])</div><div class="line"></div><div class="line"><span class="comment">;=&gt; "&lt;ul&gt;&lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;3&lt;/li&gt;&lt;/ul&gt;"</span></div></pre></td></tr></table></figure>
<p>클로져의 웹프레임워크 라이브러리중 하나인 lib-noir 를 쓰면 <code>defpage</code> 매크로를 써서 url에 즉시 바인딩 시킬 수 있다.</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defpage</span> <span class="string">"/test"</span> []</div><div class="line">  (<span class="name">hic/html</span> [<span class="symbol">:html</span></div><div class="line">             [<span class="symbol">:head</span>]</div><div class="line">              [<span class="symbol">:body</span></div><div class="line">               [<span class="symbol">:h1</span> <span class="string">"Hello"</span>]]]))</div></pre></td></tr></table></figure>
<p>지금도 잘 쓰고있는 자바 라이브러리로 <a href="http://www.stripesframework.org/display/stripes/Layout+Reuse" target="_blank" rel="external">stripe</a> 라는게 있다.<br>앞서 얘기한 재료를 잘 반죽하여 <code>stripe</code>를 구현할 수 있다.</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">(<span class="name">defpartial</span> layout [ &amp; &#123;<span class="symbol">:keys</span> [script</div><div class="line">                               header</div><div class="line">                               content</div><div class="line">                               footer]&#125;]</div><div class="line">  (<span class="name">html5</span></div><div class="line">   [<span class="symbol">:head</span></div><div class="line">    [<span class="symbol">:title</span> <span class="string">"my-website"</span>]</div><div class="line">    (<span class="name">include-css</span> <span class="string">"/css/reset.css"</span>)</div><div class="line">    (<span class="name">include-js</span> <span class="string">"/js/main.js"</span>)</div><div class="line">    `(~@script)]</div><div class="line">   [<span class="symbol">:body</span></div><div class="line">    [<span class="symbol">:div#header</span> `(~@header)]</div><div class="line">    [<span class="symbol">:div#wrapper</span> `(~@content)]</div><div class="line">    [<span class="symbol">:div#tail</span> `(~@footer)]]))</div><div class="line"></div><div class="line">(<span class="name">defpage</span> <span class="string">"/foo/page/select"</span> []</div><div class="line">  (<span class="name">layout</span></div><div class="line">   <span class="symbol">:script</span> </div><div class="line">   [[<span class="symbol">:script</span> <span class="string">"my_website.core.alert_hello('hello');"</span>]]</div><div class="line">   <span class="symbol">:header</span></div><div class="line">   [[<span class="symbol">:h1</span> <span class="string">"Hello"</span>]]</div><div class="line">   </div><div class="line">   <span class="symbol">:content</span></div><div class="line">   [[<span class="symbol">:table</span> ]]))</div></pre></td></tr></table></figure>
<h3 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h3><p>물론 php, jsp 등 흔히 server page 라고 부르는 방식으로 만들수고 있고, html을 파싱해다가 원하는 부분만 코드가 개입하도록 할 수도 있다.<br>요건 개취인듯.<br>하지만 협업을 포기한다면 (다른데는 모르겠고, 우리나라에서는 <em><strong>반드시</strong></em> 포기해야한다)<br>clojure의 저 접근이 괜찮은듯.<br>jade는 몰라.</p>
</div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/tags/nodejs-jade-template/" class="post__tag__link">nodejs, jade, template</a></li></ul><a href="/2014/09/25/cis1gcn970007fq4jo7b5nxzg/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2016 euhyen ~_~</div><menu class="page-menu u-fr"><li class="page-menu__item"><span title="Previous" class="page-menu__link icon-arrow-left page-menu__link--disabled"></span></li><li class="page-menu__item"><span title="Next" class="page-menu__link icon-arrow-right page-menu__link--disabled"></span></li></menu></footer><script>(function(h,g,l,k,j,i){j=h.createElement(g),i=h.getElementsByTagName(g)[0],
j.src="//"+l+".disqus.com/"+k+".js",i.parentNode.insertBefore(j,i)})
(document,"script","ehjanghexo","count");
</script></body></html>